tosca_definitions_version: tosca_simple_yaml_1_3

node_types:
  example.org.tosca.nodetypes.ConsGCSBucket:
    description: >
      Copyright (c) 2019 Contributors to the RADON project

      

      Licensed under the Apache License, Version 2.0 (the "License");

      you may not use this file except in compliance with the License.

      You may obtain a copy of the License at

      

          http://www.apache.org/licenses/LICENSE-2.0

      

      Unless required by applicable law or agreed to in writing, software

      distributed under the License is distributed on an "AS IS" BASIS,

      WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.

      See the License for the specific language governing permissions and

      limitations under the License.
    derived_from: radon.nodes.datapipeline.source.ConsumeRemote
    metadata:
      targetNamespace: "radon.nodes.datapipeline.source"
      abstract: "false"
      final: "false"
    properties:
      bucket:
        type: string
        description: Name of the bucket
        required: false
        status: supported
      project_ID:
        type: string
        description: ID of the project.
        required: true
        status: supported
      credential_JSON_file:
        type: string
        description: Path of the credentials in the form of JSON file
        required: true
        status: supported
    interfaces:
      Standard:
        type: tosca.interfaces.node.lifecycle.Standard
        operations:
          create:
            inputs:
              template_name:
                type: string
                required: false
                default: { get_property: [ SELF, template_name ] }
              template_file:
                type: string
                required: false
                default: "GCSObject_consume.xml"
            implementation:
              primary: create
              timeout: 0
          configure:
            inputs:
              bucket:
                type: string
                required: false
                default: { get_property: [ SELF, bucket ] }
              project_ID:
                type: string
                required: false
                default: { get_property: [ SELF, project_ID ] }
              credential_JSON_file:
                type: string
                required: false
                default: { get_property: [ SELF, credential_JSON_file ] }
            implementation:
              primary: configure
              timeout: 0
    artifacts:
      create:
        type: tosca.artifacts.File
        file: create.yml
      configure:
        type: tosca.artifacts.File
        file: configure.yml
      templatefile_localConn:
        type: tosca.artifacts.File
        file: GCSObject_consume.xml
